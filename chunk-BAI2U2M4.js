import{a as J}from"./chunk-GXDQMPGY.js";import{B,D as V,E as j,F as k,G as P,e as b,fa as H,g as _,ga as O,k as x,l as u,m as N,n as I,o as M,p as T,q as y,r as A,s as z,t as D,u as L,w as q,x as G,y as w,z as R}from"./chunk-TVFQMP3O.js";import{Ab as e,Bb as l,Ib as C,Ub as o,Va as d,Wa as p,Yb as F,d as h,ja as S,ob as f,qb as v,t as E,vb as c,xc as g,zb as t}from"./chunk-D4MAV7ZB.js";function K(r,m){r&1&&(t(0,"div")(1,"mat-form-field",17)(2,"mat-label"),o(3,"Id"),e(),l(4,"input",18),e()())}function Q(r,m){r&1&&(t(0,"mat-error"),o(1,"Raz\xE3o Social \xE9 "),t(2,"strong"),o(3,"requerida"),e()())}function U(r,m){r&1&&(t(0,"mat-error"),o(1,"Raz\xE3o Social deve ter no m\xEDnimo 3 caracteres"),e())}function W(r,m){r&1&&(t(0,"mat-error"),o(1,"Nome Fantasia \xE9 "),t(2,"strong"),o(3,"requerida"),e()())}function X(r,m){r&1&&(t(0,"mat-error"),o(1,"Nome Fantasia deve ter no m\xEDnimo 3 caracteres"),e())}function Y(r,m){r&1&&(t(0,"mat-error"),o(1,"T\xEDtulo Contato \xE9 "),t(2,"strong"),o(3,"requerido"),e()())}function Z(r,m){r&1&&(t(0,"mat-error"),o(1,"T\xEDtulo Contato deve ter no m\xEDnimo 3 caracteres"),e())}var se=(()=>{let m=class m{constructor(n,i,a,s){this.fornecedoresService=n,this.form=i,this.router=a,this.routeActive=s,this.showLoading=!1,this.fornecedorForm=this.form.group({id:[null],razaoSocial:["",[u.required,u.minLength(3)]],tituloContato:["",[u.required,u.minLength(3)]],nomeFantasia:["",[u.required,u.minLength(3)]],endereco:this.form.group({rua:[""],cidade:[""],bairro:[""],cep:[null],pais:[""],telefone:[""]})})}ngOnInit(){this.routeActive!==void 0&&this.routeActive!==null&&this.routeActive.snapshot!==void 0&&this.routeActive.snapshot!==null&&this.routeActive.snapshot.paramMap!==void 0&&this.routeActive.snapshot.paramMap!==null&&this.routeActive.snapshot.paramMap.get("id")!==void 0&&this.routeActive.snapshot.paramMap.get("id")!==null&&this.fornecedoresService.pegar(Number(this.routeActive.snapshot.paramMap.get("id"))).subscribe(n=>{if(n!=null){let i=n;this.fornecedorForm.setValue({id:i.id,razaoSocial:i.razaoSocial,tituloContato:i.tituloContato,nomeFantasia:i.nomeFantasia,endereco:{rua:i.endereco?.rua||null,cidade:i.endereco?.cidade||null,cep:i.endereco?.cep||null,bairro:i.endereco?.bairro||null,pais:i.endereco?.pais||null,telefone:i.endereco?.telefone||null}}),this.fornecedorForm.get("id")?.disable()}})}onSubmit(){console.log("Submit",this.fornecedorForm.value)}convertFormBuilderGroupToFornecedor(){this.fornecedorForm.get("id")?.enable();let n=this.fornecedorForm.value;return this.fornecedorForm.get("id")?.disable(),{id:n.id??0,razaoSocial:n.razaoSocial||"",tituloContato:n.tituloContato||"",nomeFantasia:n.nomeFantasia||"",endereco:null}}onSave(n){return h(this,null,function*(){this.showLoading=!0;let i=yield E(this.fornecedoresService.salvar(n));console.log("Fornecedor salvo: ",i),this.showLoading=!1,this.router.navigate(["/fornecedores"])})}cancelar(){this.router.navigate(["/fornecedores"])}};m.\u0275fac=function(i){return new(i||m)(p(J),p(z),p(_),p(b))},m.\u0275cmp=S({type:m,selectors:[["app-cad-fornecedor"]],standalone:!0,features:[F],decls:62,vars:10,consts:[["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"container"],[1,"item"],["matInput","","formControlName","razaoSocial"],["matInput","","formControlName","nomeFantasia"],["matInput","","formControlName","tituloContato"],["formGroupName","endereco",1,"container"],["matInput","","formControlName","rua"],["matInput","","formControlName","cidade"],["matInput","","formControlName","bairro"],["matInput","","formControlName","pais"],["matInput","","formControlName","cep","matIn",""],["matInput","","formControlName","telefone"],["mat-raised-button","","color","primary","type","submit",2,"margin-right","8px !important","margin-bottom","16px !important",3,"disabled"],["type","button","mat-raised-button","","color","primary",2,"margin-bottom","16px !important",3,"click"],[3,"visible"],[1,"item-20"],["matInput","","formControlName","id"]],template:function(i,a){if(i&1&&(t(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),o(3,"Fornecedor"),e()(),t(4,"mat-card-content")(5,"form",0),C("ngSubmit",function(){return a.onSubmit()}),t(6,"div"),f(7,K,5,0,"div",1),t(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),o(11,"Raz\xE3o Social"),e(),l(12,"input",4),f(13,Q,4,0,"mat-error")(14,U,2,0,"mat-error"),e()(),t(15,"div",2)(16,"mat-form-field",3)(17,"mat-label"),o(18,"Nome Fantasia"),e(),l(19,"input",5),f(20,W,4,0,"mat-error")(21,X,2,0,"mat-error"),e(),t(22,"mat-form-field",3)(23,"mat-label"),o(24,"T\xEDtulo Contato"),e(),l(25,"input",6),f(26,Y,4,0,"mat-error")(27,Z,2,0,"mat-error"),e()(),t(28,"mat-card-subtitle"),o(29,"Endere\xE7o"),e(),t(30,"div",7)(31,"mat-form-field",3)(32,"mat-label"),o(33,"Logradouro"),e(),l(34,"input",8),e()(),t(35,"div",7)(36,"mat-form-field",3)(37,"mat-label"),o(38,"Cidade"),e(),l(39,"input",9),e(),t(40,"mat-form-field",3)(41,"mat-label"),o(42,"Bairro"),e(),l(43,"input",10),e(),t(44,"mat-form-field",3)(45,"mat-label"),o(46,"Pa\xEDs"),e(),l(47,"input",11),e()(),t(48,"div",7)(49,"mat-form-field",3)(50,"mat-label"),o(51,"CEP"),e(),l(52,"input",12),e(),t(53,"mat-form-field",3)(54,"mat-label"),o(55,"Telefone"),e(),l(56,"input",13),e()()(),t(57,"button",14),o(58," Salvar "),e(),t(59,"button",15),C("click",function(){return a.cancelar()}),o(60," Cancelar "),e()()(),l(61,"app-loading-bar",16),e()),i&2){let s;d(5),v("formGroup",a.fornecedorForm),d(2),v("ngIf",((s=a.fornecedorForm.get("id"))==null?null:s.value)!==null),d(6),c(a.fornecedorForm.controls.razaoSocial.hasError("required")?13:-1),d(),c(a.fornecedorForm.controls.razaoSocial.hasError("minlength")?14:-1),d(6),c(a.fornecedorForm.controls.nomeFantasia.hasError("required")?20:-1),d(),c(a.fornecedorForm.controls.nomeFantasia.hasError("minlength")?21:-1),d(5),c(a.fornecedorForm.controls.tituloContato.hasError("required")?26:-1),d(),c(a.fornecedorForm.controls.tituloContato.hasError("minlength")?27:-1),d(30),v("disabled",!a.fornecedorForm.valid),d(4),v("visible",a.showLoading)}},dependencies:[D,M,x,N,I,T,A,y,H,L,P,k,V,j,q,w,B,R,G,g,O]});let r=m;return r})();export{se as CadFornecedorComponent};
