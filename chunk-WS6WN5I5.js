import{a as O}from"./chunk-P4NDFULK.js";import{B as G,C as j,D as B,E as V,da as k,e as E,ea as H,g as _,k as M,l as p,m as I,n as y,o as A,p as x,q as T,r as N,s as z,t as q,v as D,w as L,x as w,z as R}from"./chunk-HAOLPMCN.js";import{Ab as o,Bb as u,Ib as h,Ub as i,Va as l,Wa as c,Yb as F,d as g,ja as S,ob as f,qb as s,t as C,vb as v,xc as b,zb as t}from"./chunk-D4MAV7ZB.js";function J(r,a){r&1&&(t(0,"div")(1,"mat-form-field",10)(2,"mat-label"),i(3,"Id"),o(),u(4,"input",11),o()())}function K(r,a){r&1&&(t(0,"mat-error"),i(1,"Raz\xE3o Social \xE9 "),t(2,"strong"),i(3,"requerida"),o()())}function P(r,a){r&1&&(t(0,"mat-error"),i(1,"Raz\xE3o Social deve ter no m\xEDnimo 3 caracteres"),o())}function Q(r,a){r&1&&(t(0,"mat-error"),i(1,"T\xEDtulo Contato \xE9 "),t(2,"strong"),i(3,"requerido"),o()())}var me=(()=>{let a=class a{constructor(e,m,n,d){this.fornecedoresService=e,this.form=m,this.router=n,this.routeActive=d,this.showLoading=!1,this.fornecedorForm=this.form.group({id:[null],razaoSocial:["",[p.required,p.minLength(3)]],tituloContato:["",[p.required]],nomeFantasia:["",[p.required]]})}ngOnInit(){this.routeActive!==void 0&&this.routeActive!==null&&this.routeActive.snapshot!==void 0&&this.routeActive.snapshot!==null&&this.routeActive.snapshot.paramMap!==void 0&&this.routeActive.snapshot.paramMap!==null&&this.routeActive.snapshot.paramMap.get("id")!==void 0&&this.routeActive.snapshot.paramMap.get("id")!==null&&this.fornecedoresService.pegar(Number(this.routeActive.snapshot.paramMap.get("id"))).subscribe(e=>{if(e!=null){let m=e}})}onSubmit(){console.log("Submit",this.fornecedorForm.value)}convertFormBuilderGroupToFornecedor(){this.fornecedorForm.get("id")?.enable();let e=this.fornecedorForm.value;return this.fornecedorForm.get("id")?.disable(),{id:e.id??0,razaoSocial:e.razaoSocial||"",tituloContato:e.tituloContato||"",nomeFantasia:e.nomeFantasia||"",endereco:null}}onSave(e){return g(this,null,function*(){this.showLoading=!0;let m=yield C(this.fornecedoresService.salvar(e));console.log("Fornecedor salvo: ",m),this.showLoading=!1,this.router.navigate(["/fornecedores"])})}cancelar(){this.router.navigate(["/fornecedores"])}};a.\u0275fac=function(m){return new(m||a)(c(O),c(N),c(_),c(E))},a.\u0275cmp=S({type:a,selectors:[["app-cad-fornecedor"]],standalone:!0,features:[F],decls:25,vars:7,consts:[["novalidate","",3,"ngSubmit","formGroup"],[4,"ngIf"],[1,"container"],[1,"item-30"],["matInput","","formControlName","razaoSocial"],[1,"item-70"],["matInput","","formControlName","tituloContato"],["mat-raised-button","","color","primary","type","submit",2,"margin-right","8px !important","margin-bottom","16px !important",3,"disabled"],["type","button","mat-raised-button","","color","primary",2,"margin-bottom","16px !important",3,"click"],[3,"visible"],[1,"item-20"],["matInput","","formControlName","id"]],template:function(m,n){if(m&1&&(t(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),i(3,"Fornecedor"),o()(),t(4,"mat-card-content")(5,"form",0),h("ngSubmit",function(){return n.onSubmit()}),t(6,"div"),f(7,J,5,0,"div",1),t(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),i(11,"Raz\xE3o Social"),o(),u(12,"input",4),f(13,K,4,0,"mat-error")(14,P,2,0,"mat-error"),o(),t(15,"mat-form-field",5)(16,"mat-label"),i(17,"T\xEDtulo Contato"),o(),u(18,"input",6),f(19,Q,4,0,"mat-error"),o()()(),t(20,"button",7),i(21," Salvar "),o(),t(22,"button",8),h("click",function(){return n.cancelar()}),i(23," Cancelar "),o()()(),u(24,"app-loading-bar",9),o()),m&2){let d;l(5),s("formGroup",n.fornecedorForm),l(2),s("ngIf",((d=n.fornecedorForm.get("id"))==null?null:d.value)!==null),l(6),v(n.fornecedorForm.controls.razaoSocial.hasError("required")?13:-1),l(),v(n.fornecedorForm.controls.razaoSocial.hasError("minlength")?14:-1),l(5),v(n.fornecedorForm.controls.tituloContato.hasError("required")?19:-1),l(),s("disabled",!n.fornecedorForm.valid),l(4),s("visible",n.showLoading)}},dependencies:[z,A,M,I,y,x,T,k,q,V,B,G,j,D,w,R,L,b,H]});let r=a;return r})();export{me as CadFornecedorComponent};
