import{a as ie}from"./chunk-W2EZMADU.js";import{A,F as B,G as v,H as E,I as O,J as b,K as N,L as G,M as J,N as K,O as U,P as W,Q as X,R as Y,S as Z,T as R,da as ee,ea as te,g as H,t as Q,v as L,w as $,x as P,y as q,z as j}from"./chunk-QUZ462WQ.js";import{Ab as a,Bb as p,Cb as u,Db as f,Fb as S,Ib as w,Kb as y,Ob as g,Pb as F,Qb as x,Ub as l,Va as c,Vb as M,Wa as T,Yb as I,Zb as z,d as D,ja as V,ob as s,qb as C,ra as _,sa as h,t as k,zb as o}from"./chunk-D4MAV7ZB.js";var ne=()=>[5,10,20];function oe(e,i){e&1&&(o(0,"th",14),l(1,"Id"),a())}function ae(e,i){if(e&1&&(o(0,"td",15),l(1),a()),e&2){let m=i.$implicit;c(),M(m.id)}}function re(e,i){e&1&&(o(0,"th",14),l(1,"Raz\xE3o Social"),a())}function le(e,i){if(e&1&&(o(0,"td",15),l(1),a()),e&2){let m=i.$implicit;c(),M(m.razaoSocial)}}function me(e,i){e&1&&(o(0,"th",14),l(1,"T\xEDtulo Contato"),a())}function de(e,i){if(e&1&&(o(0,"td",15),l(1),a()),e&2){let m=i.$implicit;c(),M(m.tituloContato)}}function ce(e,i){e&1&&p(0,"th",14)}function se(e,i){if(e&1){let m=S();o(0,"td",15)(1,"button",16),w("click",function(){let n=_(m).$implicit,r=y();return h(r.onClickEditar(n))}),o(2,"mat-icon"),l(3,"edit"),a()()()}}function pe(e,i){e&1&&p(0,"th",14)}function ue(e,i){if(e&1){let m=S();o(0,"td",15)(1,"button",17),w("click",function(){let n=_(m).$implicit,r=y();return h(r.onClickDeletar(n))}),o(2,"mat-icon"),l(3,"delete"),a()()()}}function fe(e,i){e&1&&p(0,"tr",18)}function Ce(e,i){e&1&&p(0,"tr",19)}var Ie=(()=>{let i=class i{constructor(t,n){this.fornecedorService=t,this.router=n,this.dataSource=new R,this.showLoading=!1,this.displayedColumns=["id","razaoSocial","tituloContato","editar","excluir"]}ngAfterViewInit(){this.loadFornecedores()}loadFornecedores(){return D(this,null,function*(){this.showLoading=!0;let t=yield k(this.fornecedorService.getFornecedores());this.dataSource=new R(t),this.table.dataSource=this.dataSource,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.showLoading=!1})}navegarParaCadFornecedor(){this.router.navigate(["/cad-fornecedor"])}onClickEditar(t){console.log("Editando Fornecedor: ",t),t!=null&&t.id!==void 0&&t.id!==null&&this.router.navigate(["/cad-fornecedor-edit",t.id])}onClickDeletar(t){return D(this,null,function*(){console.log("Excluindo Fornecedor: ",t),t!=null&&t.id!==void 0&&t.id!==null&&confirm(`Deletar Fornecedor (${t.id}) ${t.razaoSocial} ?`)&&(this.showLoading=!0,this.fornecedorService.deletar(t.id).subscribe(n=>{this.showLoading=!1,this.loadFornecedores()}))})}};i.\u0275fac=function(n){return new(n||i)(T(ie),T(H))},i.\u0275cmp=V({type:i,selectors:[["app-fornecedores"]],viewQuery:function(n,r){if(n&1&&(g(v,5),g(E,5),g(b,5)),n&2){let d;F(d=x())&&(r.paginator=d.first),F(d=x())&&(r.sort=d.first),F(d=x())&&(r.table=d.first)}},standalone:!0,features:[I],decls:29,vars:8,consts:[["Paginator",""],["mat-raised-button","",3,"click"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","razaoSocial"],["matColumnDef","tituloContato"],["matColumnDef","editar"],["matColumnDef","excluir"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Selecione a P\xE1gina",3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"visible"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-button","","matTooltip","Editar",3,"click"],["mat-button","","matTooltip","Excluir",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,r){if(n&1){let d=S();o(0,"mat-card")(1,"mat-card-actions")(2,"button",1),w("click",function(){return _(d),h(r.navegarParaCadFornecedor())}),l(3,"Novo Fornecedor"),a()(),o(4,"mat-card-header")(5,"mat-card-title"),l(6,"Fornecedores"),a()(),o(7,"mat-card-content")(8,"table",2),u(9,3),s(10,oe,2,0,"th",4)(11,ae,2,1,"td",5),f(),u(12,6),s(13,re,2,0,"th",4)(14,le,2,1,"td",5),f(),u(15,7),s(16,me,2,0,"th",4)(17,de,2,1,"td",5),f(),u(18,8),s(19,ce,1,0,"th",4)(20,se,4,0,"td",5),f(),u(21,9),s(22,pe,1,0,"th",4)(23,ue,4,0,"td",5),f(),s(24,fe,1,0,"tr",10)(25,Ce,1,0,"tr",11),a(),p(26,"mat-paginator",12,0),a(),p(28,"app-loading-bar",13),a()}n&2&&(c(24),C("matHeaderRowDef",r.displayedColumns),c(),C("matRowDefColumns",r.displayedColumns),c(),C("length",r.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",z(7,ne)),c(2),C("visible",r.showLoading))},dependencies:[ee,b,G,W,J,N,X,K,U,Y,Z,v,E,O,Q,A,L,q,P,j,$,B,te]});let e=i;return e})();export{Ie as FornecedoresComponent};
