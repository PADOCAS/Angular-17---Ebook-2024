import{a as it}from"./chunk-LYCNHAL6.js";import{A as O,F as j,G as E,H as b,I as A,J as y,K as N,L as G,M as J,N as K,O as U,P as W,Q as X,R as Y,S as Z,T as R,da as tt,ea as et,g as L,t as P,v as $,w as z,x as F,y as q,z as B}from"./chunk-QUZ462WQ.js";import{Ab as o,Bb as p,Cb as u,Db as C,Fb as h,Ib as w,Kb as k,Ob as S,Pb as M,Qb as x,Ub as l,Va as s,Vb as v,Wa as T,Yb as H,Zb as Q,d as D,ja as I,ob as c,qb as f,ra as _,sa as g,t as V,zb as n}from"./chunk-D4MAV7ZB.js";var at=()=>[5,10,20];function nt(t,i){t&1&&(n(0,"th",14),l(1,"Id"),o())}function ot(t,i){if(t&1&&(n(0,"td",15),l(1),o()),t&2){let m=i.$implicit;s(),v(m.id)}}function rt(t,i){t&1&&(n(0,"th",14),l(1,"Nome"),o())}function lt(t,i){if(t&1&&(n(0,"td",15),l(1),o()),t&2){let m=i.$implicit;s(),v(m.nome)}}function mt(t,i){t&1&&(n(0,"th",14),l(1,"Descri\xE7\xE3o"),o())}function dt(t,i){if(t&1&&(n(0,"td",15),l(1),o()),t&2){let m=i.$implicit;s(),v(m.descricao)}}function st(t,i){t&1&&p(0,"th",14)}function ct(t,i){if(t&1){let m=h();n(0,"td",15)(1,"button",16),w("click",function(){let a=_(m).$implicit,r=k();return g(r.onClickEditar(a))}),n(2,"mat-icon"),l(3,"edit"),o()()()}}function pt(t,i){t&1&&p(0,"th",14)}function ut(t,i){if(t&1){let m=h();n(0,"td",15)(1,"button",17),w("click",function(){let a=_(m).$implicit,r=k();return g(r.onClickDeletar(a))}),n(2,"mat-icon"),l(3,"delete"),o()()()}}function Ct(t,i){t&1&&p(0,"tr",18)}function ft(t,i){t&1&&p(0,"tr",19)}var Ht=(()=>{let i=class i{constructor(e,a){this.categoriaService=e,this.router=a,this.dataSource=new R,this.showLoading=!1,this.displayedColumns=["id","nome","descricao","editar","excluir"]}ngAfterViewInit(){this.loadCategorias()}loadCategorias(){return D(this,null,function*(){this.showLoading=!0;let e=yield V(this.categoriaService.getCategorias());this.dataSource=new R(e),this.table.dataSource=this.dataSource,this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.showLoading=!1})}navegarParaCadCategoria(){this.router.navigate(["/cad-categoria"])}onClickEditar(e){console.log("Editando Categoria: ",e),e!=null&&e.id!==void 0&&e.id!==null&&this.router.navigate(["/cad-categoria-edit",e.id])}onClickDeletar(e){return D(this,null,function*(){console.log("Excluindo Categoria: ",e),e!=null&&e.id!==void 0&&e.id!==null&&confirm(`Deletar Categoria (${e.id}) ${e.nome} ?`)&&(this.showLoading=!0,this.categoriaService.deletar(e.id).subscribe(a=>{this.showLoading=!1,this.loadCategorias()}))})}};i.\u0275fac=function(a){return new(a||i)(T(it),T(L))},i.\u0275cmp=I({type:i,selectors:[["app-categorias"]],viewQuery:function(a,r){if(a&1&&(S(E,5),S(b,5),S(y,5)),a&2){let d;M(d=x())&&(r.paginator=d.first),M(d=x())&&(r.sort=d.first),M(d=x())&&(r.table=d.first)}},standalone:!0,features:[H],decls:29,vars:8,consts:[["Paginator",""],["mat-raised-button","",3,"click"],["mat-table","","matSort","","aria-label","Elements",1,"full-width-table"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nome"],["matColumnDef","descricao"],["matColumnDef","editar"],["matColumnDef","excluir"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Selecione a P\xE1gina",3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"visible"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-button","","matTooltip","Editar",3,"click"],["mat-button","","matTooltip","Excluir",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,r){if(a&1){let d=h();n(0,"mat-card")(1,"mat-card-actions")(2,"button",1),w("click",function(){return _(d),g(r.navegarParaCadCategoria())}),l(3,"Nova Categoria"),o()(),n(4,"mat-card-header")(5,"mat-card-title"),l(6,"Categorias"),o()(),n(7,"mat-card-content")(8,"table",2),u(9,3),c(10,nt,2,0,"th",4)(11,ot,2,1,"td",5),C(),u(12,6),c(13,rt,2,0,"th",4)(14,lt,2,1,"td",5),C(),u(15,7),c(16,mt,2,0,"th",4)(17,dt,2,1,"td",5),C(),u(18,8),c(19,st,1,0,"th",4)(20,ct,4,0,"td",5),C(),u(21,9),c(22,pt,1,0,"th",4)(23,ut,4,0,"td",5),C(),c(24,Ct,1,0,"tr",10)(25,ft,1,0,"tr",11),o(),p(26,"mat-paginator",12,0),o(),p(28,"app-loading-bar",13),o()}a&2&&(s(24),f("matHeaderRowDef",r.displayedColumns),s(),f("matRowDefColumns",r.displayedColumns),s(),f("length",r.dataSource.data.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Q(7,at)),s(2),f("visible",r.showLoading))},dependencies:[tt,y,G,W,J,N,X,K,U,Y,Z,E,b,A,P,O,$,q,F,B,z,j,et],styles:[".full-width-table[_ngcontent-%COMP%]{width:100%}"]});let t=i;return t})();export{Ht as CategoriasComponent};
